{"version":3,"file":"bundle.js","sources":["newsletter-form.js"],"sourcesContent":["export function initNewsletterForm() {\n  const form = document.querySelector('.newsletter-form');\n  if (!form) return;\n\n  const container = form.closest('.newsletter-form-container');\n  const firstName = form.querySelector('#firstName');\n  const lastName = form.querySelector('#lastName');\n  const email = form.querySelector('#email');\n  const ipAddress = form.querySelector('#ipAddress');\n  const success = container.querySelector('.newsletter-success');\n  const errorContainer = container.querySelector('.newsletter-error');\n  const errorMessage = container.querySelector('.newsletter-error-message');\n\n  // Get IP address\n  async function getIpAddress() {\n    try {\n      const response = await fetch('https://api.ipify.org?format=json');\n      const data = await response.json();\n      return data.ip;\n    } catch (error) {\n      console.error('Failed to get IP address:', error);\n      return '';\n    }\n  }\n\n  form.addEventListener('submit', async (event) => {\n    event.preventDefault();\n\n    try {\n      // Set IP address\n      ipAddress.value = await getIpAddress();\n\n      const formBody = `formId=clmf0qar501k6mb0npy4e33r8&userGroup=&mailingLists=clxw13yb8004y0ml459zv0z3c&firstName=${encodeURIComponent(firstName.value)}&lastName=${encodeURIComponent(lastName.value)}&email=${encodeURIComponent(email.value)}&ipAddress=${encodeURIComponent(ipAddress.value)}`;\n\n      const response = await fetch(event.target.action, {\n        method: 'POST',\n        body: formBody,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n      });\n\n      if (response.ok) {\n        success.style.display = 'flex';\n        form.reset();\n      } else {\n        const data = await response.json();\n        errorContainer.style.display = 'flex';\n        errorMessage.innerText = data.message || response.statusText;\n      }\n    } catch (error) {\n      errorContainer.style.display = 'flex';\n      errorMessage.innerText = error.message || 'An error occurred. Please try again.';\n    }\n  });\n}\n\n// Initialize when DOM is loaded\nif (typeof document !== 'undefined') {\n  document.addEventListener('DOMContentLoaded', () => {\n    initNewsletterForm();\n  });\n}\n"],"names":[],"mappings":"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"}